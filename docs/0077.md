# 事件驱动架构:什么是事件？

> 原文:[https://developers . red hat . com/topics/event-driven/what-a-event](https://developers.redhat.com/topics/event-driven/what-is-an-event)

当我们谈论事件驱动架构(EDA)中的事件时，我们指的是由系统软件或硬件组件生成的发生在系统中的不寻常或重要的动作或事件(即状态变化)。出于本文的目的，当我们提到*一个事件*时，我们指的是*一个事件通知*(通知某事已经改变)。由于事件是在一个架构组件中生成的，并且通知被放置在事件管理总线中，因此用于在组件之间共享通知的通信模式也定义了包含事件的消息的性质。

在事件驱动架构中，各种事件通过事件管理总线传播。如果您退后一步查看所有异步数据，您会发现不仅仅是通知。您还会发现在设计合适的云原生 EDA 时应该考虑的常见通信类型。

根据通信的类型，应该以不同的方式处理事件，以实现最佳性能和灵活性。应根据遇到的事件类型选择合适的处理和通信技术；没有“一刀切”的解决方案。

## 事件

我们将软件事件定义为应用程序中发生的事情的不变记录。事件通常将包含本地时间戳，以便能够相对于生产应用程序保留排序。事件可以包含与感兴趣的特定实体相关的标识符和状态信息。在领域驱动开发(DDD)中，事件被称为值对象。

通常情况下，事件会被广播，以通知多个应用程序之间的更改或复制状态。消费者能够异步处理事件；创建事件时，不需要它们可用。

具有状态信息的事件的一个例子是当客户更新他们的地址时生成的事件。该事件将包含客户标识符和新地址(州)。事件的消费者能够异步更新相关细节——账单、营销邮件等。松散耦合允许生产应用程序无需等待远程更新即可完成。

## 命令

命令是远程过程调用(RPC)的异步形式，其中消息包含告诉消费者做什么的指令。这可能会导致系统中的状态发生变化，通常情况下，状态会返回给初始生产者。有时，命令事件可能会导致复杂的事务，回滚能力至关重要。saga 事务模式通常用于利用命令事件的应用程序中。使用命令时，必须充分理解通信技术和超时的属性。还要注意，在可接受的时间范围内，必须至少有一个消费者可以处理消息。

命令事件的一个例子可能是购买一定数量的股票。相应的响应事件将指示交易是成功还是失败。

## 询问

查询类似于命令，除了它们期望包含实体的当前状态的响应，而不是导致状态改变。查询模式能够在只读数据集上操作，并且由于事件是幂等的，所以允许重复查询。查询模式中经常使用缓存来实现更快的响应时间，并且与命令一样，必须至少有一个消费者可以响应事件。

## 事件驱动架构

您的应用程序生成和消费的事件类型将是构建成功的事件驱动架构的关键。要了解更多关于 EDA 的基础知识，请访问[事件驱动架构主题页面](/topics/event-driven "Event-driven architecture for microservices")。

*Last updated: January 10, 2022*