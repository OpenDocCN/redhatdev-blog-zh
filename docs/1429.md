# 宣布 Eclipse Oxygen 的 Red Hat Developer Studio 11.0.0.GA 和 JBoss Tools 4.5.0.Final

> 原文:[https://developers . red hat . com/blog/2017/08/15/announcing-red-hat-developer-studio-11-0-0-ga-and-JBoss-tools-4-5-0-final-for-eclipse-oxygen](https://developers.redhat.com/blog/2017/08/15/announcing-red-hat-developer-studio-11-0-0-ga-and-jboss-tools-4-5-0-final-for-eclipse-oxygen)

[JBoss Tools 4.5](http://tools.jboss.org/downloads/jbosstools/oxygen/4.5.0.Final.html) 和[红帽 JBoss Developer Studio 11.0](http://tools.jboss.org/downloads/devstudio/oxygen/11.0.0.GA.html)Eclipse Oxygen 在这里等你。看看吧！

# 装置

JBoss Developer Studio 的安装程序中预捆绑了所有东西。只需从我们的 [Red Hat 开发者](https://developers.redhat.com/products/devstudio/download/)处下载并运行它，如下所示:

```
java -jar jboss-devstudio-<installername>.jar
```

JBoss Tools 或自带 Eclipse(BYOE)JBoss Developer Studio 需要更多:

这个版本至少需要 Eclipse 4.7 (Oxygen)，但是我们建议使用最新的 [Eclipse 4.7 Oxygen JEE 包](http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/oxygenr)，因为这样你就可以预装大部分的依赖项。

一旦你安装了 Eclipse，你可以在 Eclipse Marketplace 的“JBoss Tools”或者“Red Hat JBoss Developer Studio”下找到我们。

对于 JBoss 工具，你也可以直接使用我们的更新站点。

```
http://download.jboss.org/jbosstools/oxygen/stable/updates/
```

# 什么是新的？

我们这次发布的重点是采用 Eclipse Oxygen，改进基于容器的开发和修复 bug。Eclipse Oxygen 本身有很多新的很酷的东西，但是让我强调一下 Eclipse Oxygen 和 JBoss 工具插件中我认为值得一提的几个更新。

## OpenShift 3

### oc 每个连接的客户端选择

一些操作(日志、文件同步)需要 oc CLI 客户端的用户。可以为工作区指定所用 oc CLI 工具的单个实例。当同时使用几个 OpenShift 集群(可能有不同的版本级别)时，这可能会带来一些麻烦。现在可以在连接级别指定 oc CLI 工具。这是可选的，默认情况下使用在工作区级别指定的 oc CLI 工具。

使用`Advanced`按钮，可通过 OpenShift 连接编辑对话框访问连接专用 oc CLI 工具:

![](../Images/2bc2afa3c5ce0cafa2390c9f7af5af78.png)

启用**覆盖‘oc’位置’标志，并通过*浏览**按钮为此连接选择一个特定的 oc CLI 工具:

![](../Images/bbbe7aba3a7146d4b8e17b848f29e545.png)

由 CDK 服务器适配器创建的 OpenShift 连接将自动具有特定的 oc CLI 工具集，因为 CDK 在本地安装了与嵌入式 OpenShift 版本一致的 oc CLI 工具。

![](../Images/575dc01382d2b42cc7920bf1129c4b19.png)

### 显示 OpenShift 服务器和 Kubernetes 服务器版本

OpenShift 服务器和 Kubernetes 服务器版本现在显示在 OpenShift 连接属性中。使用未经身份验证的请求检索此信息。不需要登录 OpenShift 集群。这允许用户在交互时验证 OpenShift 和 Kubernetes 水平。

下面是一个基于针对 CDK3 的 OpenShift 连接的示例:

![](../Images/2a789f741217ddb0223df656fb288a69.png)

如果集群未启动或不可访问，则不会显示任何值:

![](../Images/802d596e80d07e7b6d728f47aaf91e33.png)

## 码头工人

### 新的安全选项

添加了在容器中启动命令以指定安全选项配置文件时的支持。这可以代替指定特权模式。例如，要运行 gdbserver，可以指定“sec comp:un filed”来允许 ptrace 命令由 gdb 服务器运行。

运行图像向导已修改，允许指定未限制的 seccomp 配置文件来替换默认的 seccomp 配置文件。

![](../Images/6fb81a6cded096f74b48502f9ac4f53d.png)

安全选项现在也显示在属性视图中。

![](../Images/90f18516209388218c741a7b7a4eedbf.png)

### Docker 工具 JDT 集成

Eclipse Docker 工具特性现在包含一个与 Java 开发工具(JDT)集成的插件。这允许在容器中运行和调试 Eclipse Java 项目。该功能通过“运行方式”和“调试方式”选项下的上下文菜单提供。使用的守护程序连接以及选择的映像都可以通过启动配置进行配置。

![](../Images/d4cae6193e5e18fae62ed04d5cd385a9.png)

这旨在以与常规运行/调试会话相同的方式工作。

![](../Images/9d52eac245f7c70c0aa858da74d3150f.png)

### Docker 客户端升级

docker 工具插件使用的 docker-client 版本已升级到 6.1.1，以支持 3.0.0 版的 Docker 工具功能。

## 服务器工具

### EAP 7.1 服务器适配器

添加了一个服务器适配器来与 EAP 7.1 一起使用。它目前以技术预览模式发布，因为基础的 WildFly 11 仍在积极开发中，有很大的机会进行突破性的改变。这种新的服务器适配器包括对增量管理部署的支持，作为其上游 WildFly 11 的对应物。

### 删除事件日志和其他不推荐使用的代码

事件日志视图已被删除。标准的 Eclipse 日志将用于服务器状态转换期间的错误和其他有关错误的重要消息。

## 保险丝工具

### Bean 支持

我们很高兴终于宣布支持**bean**(Spring/blue print)。

使用路由编辑器，您现在可以通过**配置**选项卡访问 Camel 上下文中的 Spring/blue print bean。

![](../Images/d263981efba889ec403cef7c2f4147d1.png)

在**配置**选项卡中，您可以看到 Camel 上下文的所有全局配置元素。您可以使用右侧的按钮选择`Add`、`Edit`和`Delete`元素。

![](../Images/bb3fd2ed572d0b3e40e97bb237fc802b.png)

通过点击`Add`或`Edit`按钮，将会打开一个向导来指导您创建 Bean。

![](../Images/643de21c0f140dccf262ce2c31be64ec.png)

在向导中，您可以从项目中选择一个现有的 bean 类，或者创建一个新的 bean 类。您还可以指定构造函数参数和 bean 属性。创建之后，您可以在`Properties`视图中修改该 Bean 的属性。

![](../Images/7bcb023b6b46db8200912e0fd908a5de.png)

## 休眠工具

### 休眠搜索支持

我们很高兴宣布支持[休眠搜索](http://hibernate.org/search)。该项目由 [Dmitrii 鲍恰洛夫](https://github.com/bdshadow)在[谷歌夏季代码](https://developers.google.com/open-source/gsoc/)项目中启动，并在 JBoss 工具的当前版本中成功地从 [Dmitrii 的库](https://github.com/bdshadow/jbosstools-hibernate-search)转移到 [jbosstools-hibernate 库](https://github.com/jbosstools/jbosstools-hibernate)中，并成为 JBoss 工具家族的一部分。

#### 功能

这个插件被认为是 Eclipse 中的某种卢克工具。人们认为这比启动一个单独的应用程序更方便，可以直接从 Hibernate 配置中获取配置。

控制台配置子菜单中添加了两个选项:索引重建和索引工具包。当您使用 hibernate 搜索库时，它们变得可用(它们存在于您的应用程序的构建路径中，例如通过 maven)。

![](../Images/ab088e6c8b2facbdfe46be120774571c.png)

#### 索引重建

在现有应用程序中引入 Hibernate Search 时，您必须为数据库中已经存在的数据创建一个初始 Lucene 索引。

“Index Rebuild”选项将通过在由`hibernate.search.default.indexBase`属性指定的目录中重新创建 Lucene 索引来实现。

![](../Images/10498040eb6e7f9d6780775acb1eca3b.png)

![](../Images/d943362840b3ad5e0fb3a22e5e608573.png)

#### 索引工具包

控制台配置的“Open Index Toolkit”子菜单打开一个“Index Toolkit”视图，该视图有三个选项卡:Analyzers、Explore Documents 和 Search。

##### 分析者

该选项卡允许您查看不同 Lucene 分析器的工作结果。组合框包含工作区中的所有类，这些类扩展了 org . Apache . Lucene . analysis . Analyzer，包括用户创建的自定义实现。当您键入想要分析的文本时，结果会立即出现在右侧。

![](../Images/40dae4b18c71f4a8e07f4a5bf37bfd0b.png)

##### 浏览文档

创建初始索引后，您现在可以检查它包含的 Lucene 文档。

所有标注为`@Indexed`的实体都显示在 Lucene Documents 选项卡中。根据需要勾选复选框并装入文件。使用箭头遍历文档。

![](../Images/4f58eb1f86e9afbd4e54f0c22e9f8de9.png)

##### 搜索

该插件将输入字符串从搜索文本框传递到 QueryParser，query parser 使用指定的分析器对其进行分析，并在指定的默认字段上创建一组搜索词，每个词一个词。搜索结果将取回所有包含这些术语的文档，并将它们列在下表中。

![](../Images/71b4a328f3940c69bdc1b92166e517a5.png)

#### 演示

[https://www.youtube.com/embed/aFPijD3zutM?autoplay=0&start=0&rel=0](https://www.youtube.com/embed/aFPijD3zutM?autoplay=0&start=0&rel=0)

### Hibernate 运行时提供程序更新

Hibernate 5.1 运行时提供程序现在合并了 Hibernate 核心版本 5.1.8.Final 和 Hibernate 工具版本 5.1.5.Final。

Hibernate 5.2 运行时提供程序现在合并了 Hibernate 核心版本 5.2.10.Final 和 Hibernate 工具版本 5.2.5.Final。

## 伪造

### Forge 运行时更新至 3.7.2.Final

包含的 Forge 运行时现在是 3.7.2.Final .在这里阅读官方公告[。](http://forge.jboss.org/news/jboss-forge-3.7.2.final-is-here)

## 自由市场

### Freemarker 组件折旧

Freemarker 组件已被标记为不推荐使用，因为不再需要对源代码进行维护。它在 Red Hat Central 中仍然可用，将来可能会被删除。

## 缝合

### Seam 组件折旧

Seam 组件已被标记为不推荐使用，因为 Seam 项目已停止。它在 Red Hat Central 中仍然可用，将来可能会被删除。

## Gradle

Maven integration 长期以来一直是 Red Hat JBoss Developer Studio 的一等公民。格拉德现在有同样的水平。您现在可以在基础 Red Hat JBoss Developer Studio 安装中管理 Gradle 项目。更多信息，请参见[建造文件](https://projects.eclipse.org/projects/tools.buildship)。

## 平台

### 默认情况下启用“总是在后台运行”

默认情况下，**总是在后台运行**偏好设置现已启用。如果您希望看到长时间运行操作的进度对话框，您可以在**常规**首选项页面上禁用该选项。

### 改进了工具栏的默认样式

窗口工具栏的样式得到了改进。在 Windows 上，工具栏颜色现在与透视切换器的颜色一致。

![](../Images/cfd9211d0688bc850b795c4e466e0bcf.png)

### 基于表单的用户界面的新默认样式

基于表单的用户界面的默认样式被更改为使用平面的灰色样式。这一变化的灵感来自流行的“干净的表”插件。下面你可以看到清单的截图。MF 编辑器和 Git Staging 视图。

![](../Images/c42c0c106cfca24cfe792d70d10dc3a8.png)

### 图像在 Eclipse IDE 中打开

默认情况下，图像文件现在直接在 Eclipse 中打开。内部 Web 浏览器已注册为 png、jpg、jpeg、gif、bmp 和 ico 扩展名文件的默认编辑器。

![](../Images/6db68525481cccbb2789b8434898304f.png)

用>系统编辑器使用**打开默认外部程序中的文件。**

### 安装详细信息菜单项已删除

**帮助>安装细节**菜单项已被删除。你可以通过**帮助>关于>安装细节**或者通过**快速访问(Ctrl+3)** 然后输入“安装细节”来进入这个对话框。

### 通过窗口>外观菜单最大化和最小化

**最大化**和**最小化活动视图或编辑器**菜单项被移动到**窗口>外观**菜单。它们曾经在**窗口>导航**菜单中。

### 运行菜单、上下文菜单和工具栏中的“终止并重新启动”

从**运行**菜单、上下文菜单和工具栏启动时，现在可以使用**终止和重新启动**选项。默认设置是启动而不终止之前的启动。要启用自动终止，在**首选项>运行/调试>启动**上选择选项**终止并重新启动**。从历史中启动配置时，按住 **Shift** 键，也可以按需激活首选项页面上未选择的行为。

![](../Images/b50c227ac45cb5268fe552aeef7d8bf9.png)

### 概览标尺中的断点

**断点**现在默认在**总览标尺**中可见。

![](../Images/6c6fd54ef5766af30a1e46cb2b6e030a.png)

要配置注释的呈现，右键单击总览标尺并选择**首选项…** 这将直接打开首选项页面**常规>编辑器>文本编辑器>注释**。

### 在比较编辑器中配置左侧和右侧

**比较**编辑器现在提供一个按钮**交换左右视图**。

![](../Images/15094d52225c818d689fab2ca34ce97b.png)

比较的方向在调用**比较**编辑器之间被保留，并且可以在**比较/修补**偏好页面中被改变。

![](../Images/6cc0861323f7658cc7c0757fedbe68f5.png)

### “切换工作空间”和“重新启动”菜单项

**切换工作区**和**重启**菜单项现在位于**文件**菜单的底部:在 Windows 和 Linux 上位于**退出**项的正上方，作为 Mac 上的最后一个菜单项。

![](../Images/0bc9439b205d6433394844be28aa5269.png)

### 帮助中的快速访问搜索文本

在**快速访问**对话框中输入文本后，现在**可以在帮助**中搜索。当筛选文本超过三个字符时，会显示该选项，并且它总是添加在结果的末尾。

**使用新的**快速访问**对话框在帮助**中搜索:

![](../Images/2f37ba2e2e2a06426fdd4d60dea2a386.png)

**使用独立对话框在帮助**中搜索:

![](../Images/8679a36a7278436cd2045a9b64acb5ac.png)

### 快速访问中显示的命令图标

**快速访问(Ctrl+3)** 现在显示一个**命令**的图标，如果有的话。否则，它仍然显示默认的蓝色球。

![](../Images/6f840d379d554829295a0e4c60df0a2c.png)

### 交互式弹出窗口中的颜色

像 JDT 的**快速概述**这样的交互式弹出窗口不再使用平台的工具提示颜色，因为这些颜色有时很难阅读。

旧风格:

![](../Images/fc09b9d9853d72d23042ae5af5a2b4ad.png)

新样式:

![](../Images/d0c7a3be3a007cfbd6eaa34442e8bfeb.png)

### 问题、书签和任务视图的简化过滤器对话框

问题、书签和任务视图的**过滤器**对话框已经被简化。如果您选择几个配置，将显示与这些配置中的任何一个匹配的项目。

问题视图中的旧对话框:

![](../Images/6c7c94d64c70dba926e30a9b135e0456.png)

问题视图中的新对话框:

![](../Images/f46e0afd6b918d90bb00cbdff6a69a87.png)

### 问题、书签和任务视图的过滤器对话框更容易访问

现在可以从问题、书签和任务视图的工具栏访问**过滤器**对话框。

以前，只能通过查看菜单 **>配置内容…** 访问

![](../Images/503771dc6289f2a8598db240f5ec32aa.png)

现在也作为工具栏按钮:

![](../Images/ba993696e5f1cf05aa89e054abf52bc5.png)

### 编辑器选择对话框:用于所有

**编辑器选择**对话框现在提供了一个单击选项，用于选择将来打开所有具有相同扩展名的文件的编辑器。

选择“file.xyz”并选择**用>其他…** 打开时的示例

![](../Images/325dd0fe8663e3f9cfd63deb6c9afd66.png)

### 更多高分辨率图像

更多的旧 GIF 格式的图像被 PNG 格式的图像所取代。此外，还增加了高分辨率图像。由于 PNG 可以比 GIF 更好地处理透明度，所以在深色主题中可见的形状周围丑陋的白色边框现在对于这些图标来说已经消失了。

要看到它们的全部美丽，需要一个高 DPI 的显示器(例如 Retina Mac)。截图的下半部分以高分辨率显示了**导入**对话框的向导横幅图像。

![](../Images/c2bb947dc89b7eac242ac466c4e8b663.png)

截图的右边部分以高分辨率显示了所有图标。

![](../Images/a5bdb8a89b52b7c388c152ec6d643539.png)

### 项目浏览器中的“过滤器和自定义…”

**项目浏览器**的视图菜单中的**自定义视图…** 命令被重命名为**过滤器和自定义…**

![](../Images/b1ecfa75b4603373f87858a4acf0b868.png)

### 问题和任务视图的复制详细信息子菜单

您可以使用 **Copy Details** 上下文菜单中的命令将错误、警告或任务的描述或资源限定名复制到剪贴板中。

![](../Images/c968f4df3ad02c0e65271d6a3ec4e919.png)

### 显示重命名的批注以显示修订信息

对于从 CVS 签出的文件，文本编辑器的垂直标尺和**团队**菜单中的**显示注释**命令已被重命名为**显示修订信息**。这一变化已经与 Eclipse Git 团队提供者同步，因此 e Git 的未来版本将使用相同的名称。

### 项目浏览器中的“其他项目”工作集

如果您使用**项目浏览器**和工作集作为顶层元素，那么**顶层元素**视图菜单现在提供了一种方式来显示不在当前活动工作集中的项目的**其他项目**组。

![](../Images/5dc6fd5d74d90f2cfc7e084f96775d9e.png)

### 项目浏览器中的“最近使用的过滤器”功能

**项目浏览器**视图现在有一个**最近过滤器**菜单，显示最近使用的过滤器。

![](../Images/f20b2ccf3476b9b9a1db5cf448d5bb14.png)

### 缩小的窗口边距

窗口边距已经减小，以便在 ide 中提供更多空间。

旧风格:

![](../Images/8aac835ffe22ed7583b0444b1f198103.png)

新样式(见快速访问框下方缩小的空间)。

![](../Images/220ce79e9cc404f23d857d59628c1764.png)

### Linux 上的外部浏览器

在 Linux 上，可识别的外部浏览器列表已经更新，包括:

*   **火狐** (/usr/bin/firefox)
*   Chrome 浏览器 (/usr/bin/google-chrome)
*   **铬** (/usr/bin/chromium-browser)
*   **Epiphany/Gnome Web**(/usr/bin/Epiphany)
*   **Konqueror**  (/usr/bin/konqueror)

![](../Images/aa14fb6a713ece53ff521f1786fb7f2c.png)

### GTK 主题系统属性

SWT 现在将启动时使用的 GTK 主题存储在一个系统属性中，这个属性可以帮助解决特定主题的问题。可以在**关于>安装详情>配置**中查看。

### Ctrl+E 命令改进

您可以使用**快速切换编辑器(Ctrl+E)** 命令来列出并过滤所有打开的编辑器。如果您在编辑器区域中选择了一个视图，现在也可以这样做。您可以使用通配符过滤列表，并使用鼠标或键盘选择编辑器。

现在，您还可以通过再次按下 **Ctrl+E** 来循环浏览列表。或者像以前一样使用**向上/向下箭头**。

![](../Images/758d4cc256111d61571944cdfbd7760c.png)

### 打开透视图对话框中的透视图说明

您现在可以通过在**打开透视图**对话框中按 **F2** 来查看透视图的描述(如果有贡献的插件提供的话)。

![](../Images/1948ddef8dbec795c01c264618d7e880.png)

### 快速访问中改进的字符串匹配

您现在可以在**快速访问(Ctrl+3)** 中搜索部分描述。搜索结果匹配搜索字符串中以空格分隔的单词。例如，搜索“克隆 repo”，将匹配“克隆一个 Git 存储库”命令。

![](../Images/6bc81d83c9ab873af482eee6303e8bba.png)

改进的字符串匹配也适用于括号的情况，或者当搜索字符串匹配类别名称时。

![](../Images/271d34c2fb483dc37cfda709cba4591d.png)

### 在快速访问中筛选以前的选择

**快速访问(Ctrl+3)** 结果列表不再显示重复元素。现在，如果一个搜索结果元素已经在“Previous Choices”类别中，它将不再显示在另一个类别中。

![](../Images/b00ef616852df764f8e4a85229ac15da.png)

### 窗口标题配置

标题窗口现在更简单了，你可以从**首选项**中配置它。默认情况下，标题显示**工作区名称**、**编辑路径、**和**产品名称**。

![](../Images/89417eb2623b9705cc80786940d06154.png)

您现在可以使用**首选项>工作区**来选择在窗口标题中显示什么:**工作区名称**、**透视图名称**、**工作区路径**和**产品名称**。

![](../Images/f2057a0e37eb266c92a3c84141066a37.png)

### “启动组”启动配置类型

新的**启动组**启动配置类型允许您顺序启动多个其他启动配置，在启动每个组成员后可配置操作:

*   **无**:立即继续启动下一个成员。
*   **等待直至终止**:只有在该成员终止后，才继续启动下一个成员。
*   **延迟**:延迟发射下一个成员给定的秒数。

![](../Images/c5d167dc52e01fb640a81a1f56817084.png)

可以通过**运行>运行配置…** 或**运行>调试配置…** 对话框创建新的启动组。

### Linux 下一致的堆状态颜色

从 GTK3.04 开始，Linux 上的堆状态对比度很差。这个问题已经解决，所有平台上的堆状态看起来都一致。

![](../Images/f788bceea570dea577dad68465435fbc.png)

### 修正了黑暗主题的进度视图颜色

**进度**视图已经针对月食黑暗主题进行了调整。

之前:

![](../Images/f4de4ba79e549c1f734f70f3210691c9.png)

之后:

![](../Images/5b58ea274fc5e8477e8499a58f502d89.png)

### 断点视图:排序方式>创建时间

在**断点**视图的视图菜单中，增加了一个新的**排序**选项。这允许通过两种方式进行排序:

*   **名称**:当前默认订单，按显示名称排序。
*   **创建时间**:新创建的断点会显示在顶部。

![](../Images/10cca06dff2acd797861e9c44c0acf8d.png)

### 快速访问中的通配符

现在可以用 ***** 和**？**作为通配符来过滤**快速访问(Ctrl+3)** 项。匹配范围以粗体显示。

![](../Images/c798fd2821e112a9305ead71edd7f9e8.png)

### 显示/隐藏状态栏

您现在可以通过菜单隐藏和显示底部状态栏:**窗口>外观>隐藏(显示)状态栏**。

![](../Images/c0951e4c3c01536152da90ab4d901b25.png)

在**快速访问**中，该命令被称为**切换状态栏**。

### 改进的发射组

在**运行/调试配置…** 对话框中，新的**启动组**功能的用户界面已经重新设计，更加直观和用户友好。此外，还增加了额外的配置可能性:

*   **‘Wait for console output(regexp)’post launch action**:允许延迟启动组元素的进一步处理，直到某个输出(匹配正则表达式)出现在给定组元素的控制台上。
*   **‘如果已经运行则采用启动’**:允许在启动组元素引用的启动配置已经运行时控制组的行为(无论是谁启动的)。如果选中，如果启动配置已经在运行，将不会再次启动。集团将采用现有的启动方式(即终止集团也将终止本次启动)。任何已配置的启动后操作仍将被执行！

![](../Images/60357970945c822310df6d428983dc1c.png)

### 模型编辑器中特征名称的内容帮助

当在**模型编辑器**中选择**特征名称**时，您现在可以使用 **Ctrl+Space** 来触发内容辅助。

![](../Images/a5af484393ac0e0e9131fbc817fae7bc.png)

### 模型编辑器改进

在**添加子菜单**中提出的元素现在被过滤成一个只包含允许元素的最小列表。

![](../Images/344cd90ce8b942f7d925929589483e1d.png)

### 通用编辑器现在可以读取补丁和差异文件

通用编辑器提供了一个扩展，现在它可以为扩展名为`.patch`或`.diff`的文件提供语法高亮显示。右键单击文件并选择**用>通用文本编辑器**打开以查看编辑器的运行。

![](../Images/9f66804a56e1a9fb937837ce780db57f.png)

### 改进的退出和重启对话框

退出和重启对话框现在使用动词而不是 **OK/No/Yes** ，这使得对话框更加直接和具体。

![](../Images/99db7696cb56e35d8181415b6c423cf7.png)

![](../Images/80d5fb2873ad89dcbc336de12f39c9ac.png)

### 支持扩展现有的 CSS 首选项节点

首选项的 CSS 定义现在可以使用伪选择器。这允许其他插件扩展首选项 CSS 节点，而不是覆盖它们。这使得默认的 Eclipse 黑暗主题更加一致和可用。

在此开发之前安装了 EGit 的样式示例:

![](../Images/dceb0780392e1f396d5eb52a568761c8.png)

![](../Images/91d8e28201d295dc31efd2c1d1cf4c1c.png)

此次开发后安装了 EGit 的样式示例:

![](../Images/5992e05eea9804b70b7a09c2f4ffb9cc.png)

![](../Images/760eea6b9b8d79c66d648915ac964988.png)

### 在工作区切换期间复制您的首选项的选项

现在，您可以在切换到新的或现有的工作区时复制您的首选项。

![](../Images/f89f30e26000a25cc8ce237df454c9ee.png)

### 启动时禁用问题视图装饰的选项

默认情况下，**问题**视图图标在启动后不再显示错误/警告覆盖图，除非**问题**视图位于视图堆栈的顶部。为了在**问题**视图最小化或不在顶部时启用错误/警告叠加，一个新的**显示启动时的问题视图装饰**选项被添加到**首选项>常规>启动和关闭**。默认情况下，此首选项是禁用的。

![](../Images/69160ceef45fb1cbf3278088790cea94.png)

### Ant 1.10.1

Eclipse 采用了 Ant 版本 1.10.1。

## Java 开发工具(JDT)

### 在控制台视图中显示 JUnit 失败跟踪

JUnit 失败跟踪标题中添加了一个新按钮，用于在控制台视图中显示失败的 JUnit 测试的堆栈跟踪。控制台视图可以方便地查看又长又宽的堆栈跟踪，复制部分堆栈跟踪，以及使用超链接导航到堆栈跟踪上的类。

![](../Images/88392c802d443753fe79695f87436c22.png)

### “组织导入”对话框中的“跳过”按钮

当使用**组织导入**对话框导入多个未解析的类型时，您现在可以通过使用新的**跳过**按钮跳过一个类型而不取消操作。没有为跳过的类型添加导入语句。

![](../Images/9d12a26c15249a460404a7bdb7e1b84a.png)

### 新 java 类型反应向导中带扩展名的类型名

新的 Java 类型创建向导现在接受带有类型名的`.java`扩展名，而不是显示错误消息:“类型名不能被限定”。例如，要创建一个新的类`com.test.C1<T>.java`，您可以在 New Java Class 向导的 name 字段中直接粘贴这个带扩展名的限定类型名。

![](../Images/f8120cdc84bfb917fe4015dc5b446fd3.png)

### 分步操作后的方法结果

在调试期间，在**单步进入**、**单步越过**或**单步返回**期间观察到的最后一个方法结果(每次返回或抛出)在**变量**视图中显示为第一行。

![](../Images/35c7567819e303b836d176d133ef02bc.png)

这可以通过新的选项**首选项> Java >调试>在单步操作后显示方法结果来禁用(如果 VM 支持；可能会慢)**

### 断点触发器

现在，您可以为工作区中的断点定义一组触发器

![](../Images/c236c7ce6024a8b5bc0a4c08f1aa3cb8.png)

通过使用**断点属性…** 对话框或**断点**视图的细节窗格，可以将任何断点设置为触发点。

![](../Images/bbb1f716163a499b8d884bc13f0806b1.png)

触发器将以“T”的覆盖图呈现，被触发器抑制的断点将以带有 cut 的“T”的覆盖图呈现。最初被触发器抑制的所有其他断点只有在任一触发点被命中后才会被命中。达到触发点后，所有触发器都将被禁用，并在运行后重新启用。

### 远程 Java 应用程序“套接字监听”类型支持多个传入连接

**远程 Java 应用**调试配置的**标准(套接字监听)**连接类型现在支持来自多个虚拟机的传入连接。这对调试分布式系统很有用。连接限制可以设置为一个固定的数字，或者设置为 0 表示无限制的连接。

![](../Images/ca7064777305e9cb3ef285917c537966.png)

### 禁用 HCR 的新选项

如果热代码替换(HCR)引起任何问题，或者如果您希望避免调试目标中的代码更改，现在可以禁用它。HCR 默认启用，但可以在**首选项> Java >调试**中禁用。

![](../Images/7807cdaeb032a5eaa4ccd11824c7d428.png)

### 粘贴到字符串文字时转义文本

当粘贴到字符串文字时， **Java >编辑器>键入>转义文本首选项现在默认启用。这将在将粘贴的字符串中的特殊字符粘贴到现有字符串文字时对其进行转义。**

![](../Images/d2e5c3bce2776e7f09b93d9d85729ec7.png)

要粘贴而不转义，要么你可以粘贴到字符串文字之外，要么你可以禁用**编辑>智能插入模式**。

### 设置 Javadoc 的颜色

您可以使用新的颜色首选项来设置 Javadoc 视图和悬停中的前景文本颜色和背景颜色:

![](../Images/0f59429c33b4aa753d184872d9870a5e.png)

### 隐藏从 java.lang.Object 继承的成员

您可以在**快速大纲(Ctrl+O)** 中隐藏从`java.lang.Object`继承的所有成员，方法是使用下拉菜单中的新过滤器( **Ctrl+F10** ):

![](../Images/5219f9a297cce33bd50b92206ca34253.png)

### 新 Java 索引

Eclipse Oxygen 包含一个实验性的新 Java 索引，默认启用。如果您怀疑与索引相关的问题，您可以从**首选项> Java** 中禁用新索引:

![](../Images/176e772299994e8622f65c5befc6a60d.png)

目前，新的索引不应该影响你的体验。一旦这项工作完成，我们预计在类型层次和有许多 jar 的场景中会有很大的性能提升。

### Linux 下一致的 Javadoc 颜色使用

从 GTK 3.04 开始，Linux 上的 Javadoc 颜色用法就不一致了。这个问题已经解决，并且增加了对 Eclipse Dark 主题上 Javadoc 的支持。

之前:

![](../Images/82e3a06ac9c61624ff5875772b2610fd.png)

之后:

![](../Images/8d7fcf425fb6a02c8de71bebe35a3e14.png)

黑暗主题支持:

![](../Images/71e35c3109db2c21061ec51a7d6df643.png)

### 打开选定类型的实现

**打开实现**超链接和**导航>打开实现**动作现在也打开所选接口或类的实现。过去，**开放实现**只对方法可用。

![](../Images/8f86dca1a44340db7be01cb5c7b1d614.png)

当你按住 **Ctrl** (在 Mac 上:**命令**)时，超链接弹出窗口就会出现，除非你改变了**超链接**首选项页面上的修饰符。

### 在正确的位置自动插入支架

Java >编辑器>打字>自动插入正确位置>括号首选项现在默认启用。这将自动在需要的地方插入大括号。

![](../Images/0006501b3b72c36e068cd9bcb8ed0747.png)

### 移动文字注释的快速修复

通过 JSR 308 引入的 Java 8“类型注释”的放置规则有时令人惊讶。在出现错误的情况下，提供了一个新的快速修复方法**移动类型注释**，它将类型注释移动到一个可能与预期相对应的位置。

![](../Images/873d0b90c032d4ec5d569b7606a6e379.png)

### 切换跟踪点

添加了一个新的动作**运行>切换跟踪点**。

![](../Images/213c6908e84f54d8856b4887e99352b4.png)

该操作使用“systrace”模板创建一个条件断点，该模板打印类名和方法名。

![](../Images/bd6d41c1f836881a81eb12551c2829e3.png)

这利用了条件断点的另一个新特性:只要条件没有显式返回布尔值 true，条件现在就被视为隐式返回 false，断点不会暂停执行。

### HiDPI JDT 图标

在支持 HiDPI 图像的环境中，复合图标(如带有修改器覆盖的 Java 元素图标)现在以高分辨率呈现。

![](../Images/b1c383e04f53d697a8c3da7b14c67c06.png)

### 不太可能的参数类型的警告

许多开发人员已经痛苦地认识到，通过编译器类型检查的 Java 集合的某些使用可能仍然包含“类型错误”，导致意外的运行时行为。Eclipse 编译器 Java 版中增加了一个新的分析，它将检测这个领域中最常见的错误。

这个问题背后的常见原因是，并非所有这些集合类型的方法都以人们可能期望的方式利用泛型。因此，可以创建一个 Set <short>，它的 add (Short)方法将只接受 Short 类型的参数，而 remove (Object)方法将欣然接受几乎任何参数，因为该方法的参数具有 Object 类型。</short>

下面是一个代码片段，它似乎在集合中添加和移除了相同的元素，但是仔细一看，remove 调用没有任何效果。肉眼难以看到的东西现在被一个新的警告标记出来了:

![](../Images/c36376622288d751ffa401c5850b40ef.png)

在一个简单的世界中，这将是所有要说的，但是随着时间的推移，人们已经开发了各种代码模式，这些模式依赖于这些过于通用的签名。考虑子类型的以下使用:

![](../Images/161cd77326ef9c6c89e4fdd528853aac.png)

根据您的编码风格，这可能是也可能不是合法的简写:

`if (n instanceof Short) set.remove ((Short) n);`

为了减少新分析造成的混乱，我们开发了一些试探法，过滤掉类型“足够相似”的情况，因此上述情况不值得关注。

与任何启发式方法一样，没有明确的界限。这意味着编译器可能会显示“不需要的”警告，或者过滤掉实际上是 bug 的调用。对于前一种情况，`@SuppressWarnings("unlikely-arg-type")`将为用户和编译器记录异常。对于后一种情况，我们提供了一个选项来收紧规则，即应用严格的类型兼容性检查，而不是所说的启发式。对于这种额外的检查，你可以在**首选项> Java >编译器>错误/警告>潜在编程问题**中启用子选项对预期类型进行严格分析。

![](../Images/2c698c0fd95a9da12f5d427b33af3252.png)

类似地，为不太可能调用的`java.lang.Object.equals(Object) and java.util.Objects.equals(Object,Object)`提供了默认严重性“Info”检查。

![](../Images/8763c5c4b72923fd941764ad15bfd355.png)

### 条件观察点

与行断点一样，条件现在也可以添加到**观察点**，其中字段的旧值可以用作条件的一部分。

![](../Images/1b855a24c0a2ca9ee9abe4fa0deb95d1.png)

### 代码格式化程序:计算注释宽度的新方法

代码格式化程序配置文件编辑器中添加了一个新选项，使格式化程序从注释的起始位置而不是行首开始计算注释的宽度。这为高度缩进的代码块中的注释和添加到某些代码右侧的行注释提供了更多空间，但同时也防止了在行首开始的注释变得太宽而不便于阅读。您可以在**线**宽度组下的**注释**部分更改该设置:

![](../Images/1301f1e1fa9fe2eba593e915aacbcdba.png)

![](../Images/46cad61f1e9eeef3fcc539556e817361.png)

### 隐藏不推荐使用的字段和方法

您现在可以隐藏**大纲**视图、**成员**视图、**包资源管理器**视图、**项目资源管理器**视图和**快速大纲**中不推荐使用的字段和方法，方法是从它们的下拉菜单中使用新的过滤器( **Ctrl+F10** ):

![](../Images/12df897a27849c58de361c90cc2156b4.png)

### 在搜索视图中按项目分组

搜索视图中 Java 搜索结果的默认分组已更改为按项目分组。早先的结果是按包分组的。

![](../Images/110f7dcc2cdb40f788f607b6969729f5.png)

### Javadoc 中注释类型元素的默认值

注释类型元素的默认值现在显示在 Javadoc 视图中并悬停。

![](../Images/cafcf942f62f30c6d2850c34786822d0.png)

### 显示默认启用的逻辑结构

在**变量**视图中，**显示逻辑结构**现在被默认启用。例如，集合对象现在直接显示它们包含的元素，而不是它们的内部结构。

![](../Images/bbff29443cb5914416fecc3ec1476cb1.png)

**显示逻辑结构**上下文菜单允许您选择或编辑表示。

![](../Images/a2da2edaee67921b73b2e43e7db1d11c.png)

### 将编译器选项传递给注释处理器

现在可以在**项目>属性> Java 编译器>注释处理**中使用%variable%语法将编译器选项传递给注释处理器。

![](../Images/bf65e7622dd88890843d3d86e036cfd9.png)

这允许处理器使用 Java 项目的设置编译 Java 源代码，而无需在处理器选项中手动维护此信息。

## 还有更多…

您可以在本页的[中找到更多值得注意的更新。](https://tools.jboss.org/documentation/whatsnew/jbosstools/4.5.0.Final.html)

# 下一步是什么？

随着 JBoss Tools 4.5 和 Developer Studio 11.0 的发布，我们已经在为 Eclipse Oxygen 开发下一个维护版本了。

*Last updated: September 3, 2019*